# Constraints

Constraints are used to limit which packages can depend on one another.

Constraints are applied to dependencies where there both the source and target are in the same workspace.
This means that constraints cannot be applied to external dependencies.

A constraint can have both `allow` and `disallow` properties, however any dependency that matches a `disallow` constraint will cause a constraint to fail regardless of whether it matches an `allow` constraint.

## Properties

### `disallow`

**Type**

`"*" | string[]{:ts}`

**Description**

Disallow constraints are applied to all direct and transitive dependencies.

#### Disallow all direct and transitive dependencies

Commonality will disallow any direct or indirect dependency

```json
{
  "disallow": "*"
}
```

#### Allow specific direct and transitive dependencies

Commonality will only allow direct dependencies that have the `api` or `internal` tag in it's [package configuration](/reference/configuration#package-configuration).

```json
{
  "disallow": ["api", "internal"]
}
```

### `allow`

**Type**

`"*" | string[]{:ts}`

**Description**

Constraints may allow all direct dependencies or a list of tags that all direct dependencies must have.

#### Allow all direct dependencies

Commonality will allow all direct dependencies

```json
{
  "allow": "*"
}
```

#### Allow specific direct dependencies

Commonality will only allow direct dependencies that have the `api` or `internal` tag in it's [package configuration](/reference/configuration#package-configuration).

```json
{
  "allow": ["api", "internal"]
}
```
